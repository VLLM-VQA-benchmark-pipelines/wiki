---
Author:
  - Ширяев Антон
Implementer: Овчинникова Юлия
tags: 
start date: 
end date: 2024-12-06
---

# Описание задачи

Посмотреть ответы от GPT на арене ([link](https://lmarena.ai/)).
Убедиться, что качества изображений достаточно для распознавания ключевых полей.

# Результаты

## Вывод

Качество изображений приемлемое. При подборе детального промпта с парой примеров выдает точный результат.
GPT4o не смог правильно распознать цифру 7 в поле "Номер паспорта". Стабильно выдавал цифру 1.

Работа с Ареной достаточно проблематичная. Некоторые модели отваливаются после одного прогона (gemini), нужно обновлять страницу заново каждый раз, загружать изображение.
Переключение на модель qwen2.5-72b-instruct совместно с GPT4o вообще стало выдавать ошибку (и та, и другая), что не работают с изображениями. Перезагрузка страницы не помогла.

Возможно, этих проблем удастся избежать при подборе только текстовых промптов, но есть ощущение, что платформа не работает стабильно.

Примеры ниже.

## Фото 1

![](files/Тестирование%20сгенерированных%20паспортов%20на%20GPT4o-20241206.png)


### ChatGPT [OpenAI](https://chatgpt.com/)

#### Prompt 1 - Fail

```
Тебе на вход дана картинка паспорта. Нужно распознать поле *Фамилия* и в ответе указать только значение этого поля. 

Пример: 

Вопрос: Распознай поле *Фамилия* владельца и выдай ответ. 
Ответ: Петров 

Вопрос: Распознай поле *Фамилия* владельца и выдай ответ. 
Ответ: Иванов
```
##### Answer 1

```
Возникла проблема с распознаванием текста на русском языке из-за отсутствия языкового пакета Tesseract для русского языка в текущей системе. Сейчас попробую извлечь текст, используя альтернативный метод. ​​

Текст был извлечён с ошибками. Сейчас попробую улучшить его качество и определить поле _Фамилия_. ​​

Извлечённый текст пока сложно интерпретировать корректно, но в нём явно видны ошибки OCR. Для более точного результата можно попробовать иной способ извлечения текста или вручную указать расположение нужного поля.

В данном случае фамилия должна быть на одном из первых строк, но она сильно искажена. Если нужно, могу продолжить обработку изображения для улучшения результатов. ​
```

#### Prompt 2 - Fail

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля *Фамилия* и в ответе укажи только значение этого поля. Смотри примеры. 

Примеры: 

Вопрос: Напиши значение поля *Фамилия* владельца паспорта. 
Ответ: Петров 

Вопрос: Напиши значение поля *Фамилия* владельца паспорта. 
Ответ: Иванов
```
##### Answer 2

```
Ответ: Савостина​
```

#### Prompt 3 - ==Ok==

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля *Фамилия* и в ответе укажи только значение этого поля. Смотри примеры. 

Примеры: 

Напиши значение поля *Фамилия* владельца паспорта. 
Петров 

Напиши значение поля *Фамилия* владельца паспорта. 
Иванов
```
##### Answer 3

```
Савостина​
```

#### Prompt 4 - ==Ok==

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля *Имя* и в ответе укажи только значение этого поля. Смотри примеры. 

Примеры: 

Напиши значение поля *Имя* владельца паспорта. 
Анна 

Напиши значение поля *Имя* владельца паспорта. 
Екатерина
```
##### Answer 4

```
Ирина​
```

#### Prompt 5 - ==Ok==

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля *Отчество* и в ответе укажи только значение этого поля. Смотри примеры. 

Примеры: 

Напиши значение поля *Отчество* владельца паспорта. 
Петрович 

Напиши значение поля *Отчество* владельца паспорта. 
Олеговна
```
##### Answer 5

```
Григорьевна​
```

#### Prompt 6 - ==Ok==

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля *Пол* и в ответе укажи только значение этого поля. Смотри примеры. 

Примеры: 

Напиши значение поля *Пол* владельца паспорта. 
жен. 

Напиши значение поля *Пол* владельца паспорта. 
муж.
```
##### Answer 6

```
жен.​
```

#### Prompt 7 - ==Ok==

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля *Дата рождения* и в ответе укажи только значение этого поля. Смотри примеры. 

Примеры: 

Напиши значение поля *Дата рождения* владельца паспорта. 
15.11.1996

Напиши значение поля *Дата рождения* владельца паспорта. 
01.07.2001
```
##### Answer 7
```
24.10.1994
```

#### Prompt 8 - ==Ok==

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля *Место рождения* и в ответе укажи только значение этого поля. Смотри примеры. 

Примеры: 

Напиши значение поля *Место рождения* владельца паспорта. 
г. Балей, Забайкальский край 

Напиши значение поля *Место рождения* владельца паспорта. 
г. Коммунар, Ленинградская область
```
##### Answer 8
```
г. Ессентуки, Ставропольский край
```

#### Prompt 9 - Fail

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля *Серия паспорта* и в ответе укажи только значение этого поля. Смотри примеры. 

Примеры: 
Напиши значение поля *Серия паспорта* владельца паспорта. 
1587 

Напиши значение поля *Серия паспорта* владельца паспорта. 
6598
```
##### Answer 9
```
151-593
```

#### Prompt 10 - Fail

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля *Серия паспорта* и в ответе укажи только значение этого поля. Серия находится справа и расположена вертикально. Первые 4 цифры. Смотри примеры. 

Примеры: 

Напиши значение поля *Серия паспорта* владельца паспорта. 
1587 

Напиши значение поля *Серия паспорта* владельца паспорта. 
6598
```
##### Answer 10
```
1515
```

*! На этом лимит бесплатных промптов закончился*


### [Arena](https://lmarena.ai/)

#### Prompt 1 - ==Ok==

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля _Серия паспорта_ и в ответе укажи только значение этого поля. Серия находится справа картинки сбоку по центру, расположена вертикально. Первые 4 цифры. Смотри примеры.

Примеры:

Напиши значение поля _Серия паспорта_ владельца паспорта.  
1587

Напиши значение поля _Серия паспорта_ владельца паспорта.  
6598
```
##### Answer 1 - chatgpt-4o-latest-20241120

```
1875
```
##### Answer 1 - gemini-1.5-pro-002

```
1875
```

#### Prompt 2 - Fail

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля *Номер паспорта* и в ответе укажи только значение этого поля. Серия находится справа картинки сбоку по центру, расположена вертикально. Последние 6 цифр. Смотри примеры.

Примеры:

Напиши значение поля *Номер паспорта* владельца паспорта.
157896

Напиши значение поля *Номер паспорта* владельца паспорта.
364895
```
##### Answer 2 - chatgpt-4o-latest-20241120

```
767841
```
##### Answer 2 - gemini-1.5-pro-002

```
**NETWORK ERROR DUE TO HIGH TRAFFIC. PLEASE REGENERATE OR REFRESH THIS PAGE.**
```

#### Prompt 3 - ==Ok== / Fail

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля _Код подразделения_ и в ответе укажи только значение этого поля. Смотри примеры.

Примеры:

Напиши значение поля _Код подразделения_ владельца паспорта.  
364-985

Напиши значение поля _Код подразделения_ владельца паспорта.  
678-265
```
##### Answer 3 - chatgpt-4o-latest-20241120

```
151-593
```
##### Answer 3 - gemini-1.5-pro-002

```
**NETWORK ERROR DUE TO HIGH TRAFFIC. PLEASE REGENERATE OR REFRESH THIS PAGE.**
```

#### Prompt 4 - ==Ok== / Fail

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля _Дата выдачи_ и в ответе укажи только значение этого поля. Смотри примеры.

Примеры:

Напиши значение поля _Дата выдачи_ владельца паспорта.  
14.12.2020

Напиши значение поля _Дата выдачи_ владельца паспорта.  
17.03.2001
```
##### Answer 4 - chatgpt-4o-latest-20241120

```
02.07.2017
```
##### Answer 4 - gemini-1.5-pro-002

```
**NETWORK ERROR DUE TO HIGH TRAFFIC. PLEASE REGENERATE OR REFRESH THIS PAGE.**
```

#### Prompt 5 - ==Ok==

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля _Паспорт выдан_ и в ответе укажи только значение этого поля. Смотри примеры.

Примеры:

Напиши значение поля _Паспорт выдан_ владельца паспорта.  
Управление МВД России по г. Кирс, Кировская область

Напиши значение поля _Паспорт выдан_ владельца паспорта.  
Управление МВД России по г. Нефтегорск, Самарская область
```
##### Answer 5 - chatgpt-4o-latest-20241120

```
Управление МВД России по г. Зеленодольск, Республика Татарстан
```
##### Answer 5 - gemini-1.5-pro-002 (после обновления страницы снова стал выдавать ответы)

```
Управление МВД России по г. Зеленодольск, Республика Татарстан
```

## Фото 2

![](files/Тестирование%20сгенерированных%20паспортов%20на%20GPT4o-20241206-1.png)


### [Arena](https://lmarena.ai/)

#### Prompt 1 - Fail

```
Тебе на вход дана картинка паспорта на русском языке. Напиши значение поля _Серия паспорта_ и в ответе укажи только значение этого поля. Серия находится справа картинки сбоку по центру, расположена вертикально. Первые 4 цифры. Смотри примеры.

Примеры:

Напиши значение поля _Серия паспорта_ владельца паспорта.  
1587

Напиши значение поля _Серия паспорта_ владельца паспорта.  
6598
```
##### Answer 1 - chatgpt-4o-latest-20241120

```
К сожалению, я не могу просматривать изображения. Если у вас есть текстовая информация из паспорта, пожалуйста, предоставьте её, и я постараюсь помочь!
```
##### Answer 1 - qwen2.5-72b-instruct

```
К сожалению, я не могу видеть или анализировать изображения. Однако, если бы я мог это сделать, я бы ответил в формате, который вы указали. Например:

Напиши значение поля _Серия паспорта_ владельца паспорта.
1234

Если у вас есть текстовое представление серии паспорта, вы можете предоставить его, и я смогу извлечь необходимую информацию.
```

